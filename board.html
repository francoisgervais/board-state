<!DOCTYPE html>
<html lang="en">
<head>
    <!-- html2canvas for exporting as JPG -->
    <script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.0/css/all.min.css" integrity="sha512-DxV+EoADOkOygM4IR9yXP8Sb2qwgidEmeqAEmDKIOfPRQZOWbXCzLC6vjbZyy0vPisbH2SyW27+ddLVCN+OMzQ==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <title>Board Layout</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="board.css">
    <script src="board-cards.js"></script>
</head>
<body class="bg-white">

    <div class="main bg-light">
        <!-- Enemy Section -->
        <div class="enemy bg-danger">
            <div class="enemy-board-title title">
                <div class="enemy-board-container">
                    <div class="enemy-board-control control-div no-export" data-target="enemy-board-state">
                        <button class="circle-btn minus" type="button" aria-label="Remove card">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <rect x="5" y="11" width="14" height="2" rx="1" fill="currentColor" />
                            </svg>
                        </button>
                        <button class="circle-btn plus" type="button" aria-label="Add card">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <rect x="11" y="5" width="2" height="14" rx="1" fill="currentColor" />
                                <rect x="5" y="11" width="14" height="2" rx="1" fill="currentColor" />
                            </svg>
                        </button>
                    </div>
                    <div class="enemy-board-state">
                        <div class="d-flex flex-column bg-danger-subtle rounded p-3">
                            <span class="title">Enemy Board</span>
                            <div class="card-row" id="enemy-board-row"></div>
                        </div>
                    </div>
                    <div class="enemy-board-stats stats-div">
                        <div class="d-flex flex-column">
                            <span class="title d-block mb-2 placeholder-spacer">placeholder</span>
                            <div class="card-row">
                                <div class="card bg-light border stat-card">
                                    <label class="stat-card-label">Enemy</label>
                                    <div class="stat-card-label-row">
                                        <label class="stat-card-label">Life: </label>
                                    <input type="text" class="form-control form-control-sm stat-card-input life-enemy" />
                                    </div>
                                
                                    <div class="stat-card-label-row">
                                        <label class="stat-card-label">Mana available: </label>
                                        <input type="text" class="form-control form-control-sm stat-card-input mana-enemy" />
                                    </div>
                                    <div class="stat-card-label-row">
                                        <label class="stat-card-label">Cards in hand: </label>
                                        <input type="text" class="form-control form-control-sm stat-card-input hand-enemy" />
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Player Section -->
        <div class="player bg-success">
            <div class="player-board-title title">
                <div class="player-board-container">
                    <div class="player-board-control control-div no-export" data-target="player-board-state">
                        <button class="circle-btn minus" type="button" aria-label="Remove card">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <rect x="5" y="11" width="14" height="2" rx="1" fill="currentColor" />
                            </svg>
                        </button>
                        <button class="circle-btn plus" type="button" aria-label="Add card">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <rect x="11" y="5" width="2" height="14" rx="1" fill="currentColor" />
                                <rect x="5" y="11" width="14" height="2" rx="1" fill="currentColor" />
                            </svg>
                        </button>
                    </div>
                    <div class="player-board-state">
                        <div class="d-flex flex-column bg-success-subtle rounded p-3">
                            <span class="title">Player Board</span>
                            <div class="card-row" id="player-board-row"></div>
                        </div>
                    </div>
                    <div class="player-board-stats stats-div">
                    <div class="d-flex flex-column">
                        <span class="title d-block mb-2 placeholder-spacer">placeholder</span>
                        <div class="card-row">
                            <div class="card bg-light border stat-card">
                                <label class="stat-card-label">Player</label>
                                <div class="stat-card-label-row">
                                    <label class="stat-card-label">Life: </label>
                                    <input type="text" class="form-control form-control-sm stat-card-input life-player" />
                                </div>
                                <div class="stat-card-label-row">
                                    <label class="stat-card-label">Mana available: </label>
                                    <input type="text" class="form-control form-control-sm stat-card-input mana-player" />
                                </div>
                                <div class="stat-card-label-row">
                                    <label class="stat-card-label">Cards in hand: </label>
                                    <input type="text" class="form-control form-control-sm stat-card-input my-cards-input" />
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="player-hand-title title">
            <div class="player-hand-container">
                <div class="player-hand-control control-div no-export" data-target="player-hand-state">
                    <button class="circle-btn minus" type="button" aria-label="Remove card">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <rect x="5" y="11" width="14" height="2" rx="1" fill="currentColor" />
                        </svg>
                    </button>
                    <button class="circle-btn plus" type="button" aria-label="Add card">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <rect x="11" y="5" width="2" height="14" rx="1" fill="currentColor" />
                            <rect x="5" y="11" width="14" height="2" rx="1" fill="currentColor" />
                        </svg>
                    </button>
                </div>
                <div class="player-hand-state">
                    <div class="d-flex flex-column bg-success-subtle rounded p-3">
                        <span class="title d-block mb-2">Player Hand</span>
                        <div class="card-row my-cards-row" id="player-hand-row"></div>
                    </div>
                </div>
                <div class="player-hand-stats stats-div">
                    <div class="d-flex flex-column">
                        <span class="title d-block mb-2 placeholder-spacer">placeholder</span>
                        <div class="card-row">
                            <div class="card bg-light border stat-card no-export">
                                <button id="export-png-btn" class="btn btn-primary ctrl-btn no-export">Export board state</button>
                                <button id="reload-btn" class="btn btn-secondary ctrl-btn no-export">Reload</button>
                                <button id="reset-btn" class="btn btn-danger ctrl-btn no-export">Reset</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Bootstrap JS Bundle -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script type="module" src="main.js"></script>
</body>
</html>
<script>
// Set random values on load
window.addEventListener('DOMContentLoaded', function() {
    function randInt(min, max) {
        return Math.floor(Math.random() * (max - min + 1)) + min;
    }
    // Enemy
    var lifeEnemy = document.querySelector('.life-enemy');
    if (lifeEnemy) lifeEnemy.value = randInt(7, 27);
    var manaEnemy = document.querySelector('.mana-enemy');
    if (manaEnemy) manaEnemy.value = randInt(0, 7);
    var handEnemy = document.querySelector('.hand-enemy');
    if (handEnemy) handEnemy.value = randInt(0, 7);
    // Player
    var lifePlayer = document.querySelector('.life-player');
    if (lifePlayer) lifePlayer.value = randInt(7, 27);
    var manaPlayer = document.querySelector('.mana-player');
    if (manaPlayer) manaPlayer.value = randInt(0, 7);

    // Reload button handler
    var reloadBtn = document.getElementById('reload-btn');
    if (reloadBtn) {
        reloadBtn.addEventListener('click', function() {
            window.location.reload();
        });
    }

    // Reset button handler
    var resetBtn = document.getElementById('reset-btn');
    if (resetBtn) {
        resetBtn.addEventListener('click', function() {
            // Helper to get a random card name from boardCards
            function getRandomCardName() {
                if (typeof boardCards !== 'undefined') {
                    var keys = Object.keys(boardCards);
                    return keys[randInt(0, keys.length - 1)];
                }
                return 'Horror'; // fallback
            }
            // Remove all cards from each section
            var enemyRow = document.getElementById('enemy-board-row');
            var playerRow = document.getElementById('player-board-row');
            var handRow = document.getElementById('player-hand-row');
            if (enemyRow) enemyRow.innerHTML = '';
            if (playerRow) playerRow.innerHTML = '';
            if (handRow) handRow.innerHTML = '';
            // Add one random card to each
            if (typeof createCard === 'function') {
                if (enemyRow) enemyRow.appendChild(createCard(getRandomCardName(), 'enemy'));
                if (playerRow) playerRow.appendChild(createCard(getRandomCardName(), 'player'));
                if (handRow) handRow.appendChild(createCard(getRandomCardName(), 'hand'));
            }
        });
    }
});
</script>
